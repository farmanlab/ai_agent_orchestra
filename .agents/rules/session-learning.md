---
name: session-learning
description: Provides automatic detection of reusable patterns during sessions and suggests new rules/skills. Use when working on any task to enable continuous learning.
agents: [claude, cursor, copilot]
---

# Session Learning (Auto-Detection)

ã‚»ãƒƒã‚·ãƒ§ãƒ³ä¸­ã®ã‚„ã‚Šã¨ã‚Šã‹ã‚‰æœ‰ç”¨ãªãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è‡ªå‹•æ¤œå‡ºã—ã€å†åˆ©ç”¨å¯èƒ½ãªKnowledgeã¨ã—ã¦ææ¡ˆã™ã‚‹ã€‚

## ç›®æ¬¡

1. [Workflow](#workflow)
2. [è‡ªå‹•æ¤œå‡ºãƒˆãƒªã‚¬ãƒ¼](#è‡ªå‹•æ¤œå‡ºãƒˆãƒªã‚¬ãƒ¼)
3. [ææ¡ˆãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ](#ææ¡ˆãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ)
4. [æ‰¿èªå¾Œã®å‡¦ç†](#æ‰¿èªå¾Œã®å‡¦ç†)
5. [ææ¡ˆã®ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³](#ææ¡ˆã®ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³)
6. [æ¤œå‡ºã®é »åº¦](#æ¤œå‡ºã®é »åº¦)
7. [å…·ä½“ä¾‹](#å…·ä½“ä¾‹)

## Workflow

æ¤œå‡ºã‹ã‚‰ä¿å­˜ã¾ã§ã®æµã‚Œï¼š

```
Session Learning Workflow:
- [ ] Step 1: ãƒ‘ã‚¿ãƒ¼ãƒ³æ¤œå‡ºï¼ˆä¼šè©±ä¸­ã«è‡ªå‹•ç›£è¦–ï¼‰
- [ ] Step 2: ææ¡ˆç”Ÿæˆï¼ˆã‚¿ã‚¹ã‚¯å®Œäº†å¾Œã‚„ä¼šè©±ã®åŒºåˆ‡ã‚Šã§ï¼‰
- [ ] Step 3: ãƒ¦ãƒ¼ã‚¶ãƒ¼ç¢ºèªå¾…ã¡
- [ ] Step 4: æ‰¿èªæ™‚ â†’ ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ
- [ ] Step 5: syncå®Ÿè¡Œ â†’ å…¨ãƒ„ãƒ¼ãƒ«åæ˜ 
```

**Step 1: ãƒ‘ã‚¿ãƒ¼ãƒ³æ¤œå‡º**
- ä¼šè©±ä¸­ã«ä»¥ä¸‹ã®ãƒˆãƒªã‚¬ãƒ¼ã‚’ç›£è¦–
- æ¤œå‡ºã—ã¦ã‚‚ä½œæ¥­ã¯ä¸­æ–­ã—ãªã„

**Step 2: ææ¡ˆç”Ÿæˆ**
- ã‚¿ã‚¹ã‚¯å®Œäº†å¾Œã«ææ¡ˆã‚’å‡ºåŠ›
- 1ã‚»ãƒƒã‚·ãƒ§ãƒ³æœ€å¤§3ä»¶ã¾ã§

**Step 3-5: æ‰¿èªã¨ä¿å­˜**
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€Œä¿å­˜ã—ã¦ã€ã¨è¿”ç­”ã—ãŸã‚‰å®Ÿè¡Œ
- `.agents/rules/` ã¾ãŸã¯ `.agents/skills/` ã«ä¿å­˜
- `sync.sh all` ã§å…¨ãƒ„ãƒ¼ãƒ«ã«åæ˜ 

## è‡ªå‹•æ¤œå‡ºãƒˆãƒªã‚¬ãƒ¼

ä»¥ä¸‹ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ¤œå‡ºã—ãŸã‚‰ã€**ä¼šè©±ã®æµã‚Œã‚’æ­¢ã‚ãšã«**ææ¡ˆã‚’è¡Œã†ï¼š

### 1. ä¿®æ­£ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯

ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¨‚æ­£ãƒ»ä¿®æ­£ã—ãŸå ´åˆï¼š

**æ¤œå‡ºã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰:**

- æ—¥æœ¬èª: ã€Œé•ã†ã€ã€Œãã†ã˜ã‚ƒãªãã¦ã€ã€Œå¾…ã£ã¦ã€ã€Œã€œã˜ã‚ƒãªãã¦ã€ã€Œã€œã§ã¯ãªãã€
- è‹±èª: "no,", "actually", "instead", "wait", "not that"

**ã‚¢ã‚¯ã‚·ãƒ§ãƒ³:** è¨‚æ­£å†…å®¹ã‚’Ruleã¨ã—ã¦ææ¡ˆ

### 2. ç¹°ã‚Šè¿”ã—æŒ‡ç¤º

åŒã˜å†…å®¹ã®æŒ‡ç¤ºãŒ**2å›ä»¥ä¸Š**å‡ºãŸå ´åˆï¼š

**æ¤œå‡ºãƒ‘ã‚¿ãƒ¼ãƒ³:**

- åŒã˜ãƒ„ãƒ¼ãƒ«/ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®æŒ‡å®šï¼ˆã€Œpnpmã‚’ä½¿ã£ã¦ã€ã€Œyarnã§ã€ï¼‰
- åŒã˜ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæŒ‡å®šï¼ˆã€Œæ—¥æœ¬èªã§ã€ã€ŒTypeScriptã§ã€ï¼‰
- åŒã˜æ‰‹é †ã®èª¬æ˜

**ã‚¢ã‚¯ã‚·ãƒ§ãƒ³:** è¨­å®šãƒ»è¦ç´„ã‚’Ruleã¨ã—ã¦ææ¡ˆ

### 3. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰ãƒ«ãƒ¼ãƒ«

æ˜ç¤ºçš„ãªè¦ç´„ãƒ»æ…£ç¿’ã®è¨€åŠï¼š

**æ¤œå‡ºã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰:**

- æ—¥æœ¬èª: ã€Œã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€ã€Œã†ã¡ã®ãƒãƒ¼ãƒ ã¯ã€ã€Œã„ã¤ã‚‚ã€ã€Œå¿…ãšã€ã€Œçµ¶å¯¾ã«ã€
- è‹±èª: "in this project", "we always", "our team", "never", "must"

**ã‚¢ã‚¯ã‚·ãƒ§ãƒ³:** è¦ç´„ã‚’Ruleã¨ã—ã¦ææ¡ˆ

### 4. è¤‡é›‘ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å®Œäº†

ä»¥ä¸‹ã®æ¡ä»¶ã‚’**ã™ã¹ã¦**æº€ãŸã™ã‚¿ã‚¹ã‚¯å®Œäº†æ™‚ï¼š

- 3ã‚¹ãƒ†ãƒƒãƒ—ä»¥ä¸Šã®æ‰‹é †
- å†åˆ©ç”¨å¯èƒ½æ€§ãŒé«˜ã„ï¼ˆæ±ç”¨çš„ãªä½œæ¥­ï¼‰
- åŒæ§˜ã®ã‚¿ã‚¹ã‚¯ãŒä»Šå¾Œã‚‚ç™ºç”Ÿã—ãã†

**ã‚¢ã‚¯ã‚·ãƒ§ãƒ³:** ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’Skillã¨ã—ã¦ææ¡ˆ

### 5. ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒˆè§£æ±º

ã‚¨ãƒ©ãƒ¼ã‚„å•é¡Œã‚’è§£æ±ºã—ãŸå¾Œï¼š

**æ¤œå‡ºãƒ‘ã‚¿ãƒ¼ãƒ³:**

- ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿ â†’ èª¿æŸ» â†’ è§£æ±ºã®ãƒ•ãƒ­ãƒ¼
- ã€Œã“ã‚Œã§è§£æ±ºã€ã€Œå‹•ã„ãŸã€ãªã©ã®æˆåŠŸå ±å‘Š

**ã‚¢ã‚¯ã‚·ãƒ§ãƒ³:** è§£æ±ºæ–¹æ³•ã‚’Ruleã¨ã—ã¦ææ¡ˆ

## ææ¡ˆãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ

æ¤œå‡ºæ™‚ã€ä»¥ä¸‹ã®å½¢å¼ã§ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã«ææ¡ˆï¼š

```markdown
---
ğŸ’¡ **Knowledgeææ¡ˆ**

| é …ç›® | å†…å®¹ |
|------|------|
| ç¨®åˆ¥ | Rule / Skill |
| æ¤œå‡ºç†ç”± | [ä¿®æ­£/ç¹°ã‚Šè¿”ã—/è¦ç´„/ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼/è§£æ±º] |
| ãƒˆãƒªã‚¬ãƒ¼ | `[ã„ã¤ã“ã®çŸ¥è­˜ã‚’ä½¿ã†ã‹]` |

**å†…å®¹:**
> [å…·ä½“çš„ãªãƒ«ãƒ¼ãƒ«/æ‰‹é †]

**ä¿å­˜å…ˆ:** `.agents/rules/[name].md`

ğŸ‘‰ æ‰¿èªã™ã‚‹å ´åˆã¯ã€Œä¿å­˜ã—ã¦ã€ã¨è¿”ç­”
ğŸ‘‰ ç·¨é›†ã™ã‚‹å ´åˆã¯ä¿®æ­£å†…å®¹ã‚’æŒ‡ç¤º
ğŸ‘‰ ä¸è¦ãªå ´åˆã¯ã‚¹ã‚­ãƒƒãƒ—å¯ï¼ˆè¿”ç­”ä¸è¦ï¼‰
---
```

## æ‰¿èªå¾Œã®å‡¦ç†

ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ‰¿èªã—ãŸã‚‰ï¼š

1. **ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ**: æŒ‡å®šã®ä¿å­˜å…ˆã«æ–°è¦ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ
2. **Syncå®Ÿè¡Œ**: `.agents/sync/sync.sh all` ã§å…¨ãƒ„ãƒ¼ãƒ«ã«åæ˜ 
3. **å ±å‘Š**: ä½œæˆã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã‚’é€šçŸ¥

## ææ¡ˆã®ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

### ææ¡ˆã™ã¹ãã‚‚ã®

- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰ã®è¨­å®šãƒ»è¦ç´„
- ãƒãƒ¼ãƒ å…±é€šã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
- ç¹°ã‚Šè¿”ã—ä½¿ãˆã‚‹è§£æ±ºãƒ‘ã‚¿ãƒ¼ãƒ³
- ãƒ„ãƒ¼ãƒ«/ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ä½¿ã„æ–¹

### ææ¡ˆã‚’æ§ãˆã‚‹ã‚‚ã®

- ä¸€èˆ¬çš„ãªãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ï¼ˆã™ã§ã«çŸ¥ã‚‰ã‚Œã¦ã„ã‚‹ï¼‰
- ä¸€åº¦é™ã‚Šã®ç‰¹æ®Šãªã‚±ãƒ¼ã‚¹
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å¥½ã¿ç¨‹åº¦ã®è»½å¾®ãªæŒ‡æ‘˜
- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã«é–¢ã‚ã‚‹æ©Ÿå¯†æƒ…å ±

## æ¤œå‡ºã®é »åº¦

- **éåº¦ãªææ¡ˆã‚’é¿ã‘ã‚‹**: 1ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§æœ€å¤§3ä»¶ç¨‹åº¦
- **é‡è¤‡å›é¿**: æ—¢å­˜ã®rules/skillsã¨é‡è¤‡ã™ã‚‹å†…å®¹ã¯ææ¡ˆã—ãªã„
- **ã‚¿ã‚¤ãƒŸãƒ³ã‚°**: ã‚¿ã‚¹ã‚¯å®Œäº†å¾Œã‚„ä¼šè©±ã®åŒºåˆ‡ã‚Šã§ææ¡ˆï¼ˆä½œæ¥­ä¸­ã¯æ§ãˆã‚‹ï¼‰

## å…·ä½“ä¾‹

### Example 1: ä¿®æ­£ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯æ¤œå‡º

**Beforeï¼ˆä¿®æ­£å‰ã®ä¼šè©±ï¼‰:**

```
User: Prismaãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã—ã¦
AI: npx prisma migrate dev ã‚’å®Ÿè¡Œã—ã¾ã—ãŸ
User: é•ã†ã€SQLã‚’å…ˆã«ç¢ºèªã—ãŸã‹ã£ãŸ
```

**Afterï¼ˆææ¡ˆç”Ÿæˆï¼‰:**

```markdown
ğŸ’¡ **Knowledgeææ¡ˆ**

| é …ç›® | å†…å®¹ |
|------|------|
| ç¨®åˆ¥ | Rule |
| æ¤œå‡ºç†ç”± | ä¿®æ­£ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ |
| ãƒˆãƒªã‚¬ãƒ¼ | `Prismaãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œæ™‚` |

**å†…å®¹:**
> 1. `npx prisma migrate dev --create-only` ã§SQLç”Ÿæˆ
> 2. ç”Ÿæˆã•ã‚ŒãŸSQLã‚’ç¢ºèª
> 3. å•é¡Œãªã‘ã‚Œã° `npx prisma migrate dev` ã§é©ç”¨

**ä¿å­˜å…ˆ:** `.agents/rules/prisma-migration.md`
```

### Example 2: ç¹°ã‚Šè¿”ã—æŒ‡ç¤ºæ¤œå‡º

**Beforeï¼ˆç¹°ã‚Šè¿”ã—ã®ä¼šè©±ï¼‰:**

```
User: pnpmã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦
AI: npm install ã‚’å®Ÿè¡Œ...
User: pnpmã‚’ä½¿ã£ã¦
---
User: ä¾å­˜é–¢ä¿‚è¿½åŠ ã—ã¦
AI: npm install lodash...
User: pnpmã§
```

**Afterï¼ˆææ¡ˆç”Ÿæˆï¼‰:**

```markdown
ğŸ’¡ **Knowledgeææ¡ˆ**

| é …ç›® | å†…å®¹ |
|------|------|
| ç¨®åˆ¥ | Rule |
| æ¤œå‡ºç†ç”± | ç¹°ã‚Šè¿”ã—æŒ‡ç¤ºï¼ˆ2å›ä»¥ä¸Šï¼‰ |
| ãƒˆãƒªã‚¬ãƒ¼ | `ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†æ“ä½œæ™‚` |

**å†…å®¹:**
> ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã«pnpmã‚’ä½¿ç”¨ã™ã‚‹ã€‚
> npm/yarnã§ã¯ãªãã€å¿…ãšpnpmã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã€‚

**ä¿å­˜å…ˆ:** `.agents/rules/package-manager.md`
```

### Example 3: ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å®Œäº†æ¤œå‡º

**Beforeï¼ˆè¤‡é›‘ãªã‚¿ã‚¹ã‚¯å®Œäº†å¾Œï¼‰:**

```
User: PRã‚’ä½œæˆã—ã¦
AI: 1. ãƒ–ãƒ©ãƒ³ãƒä½œæˆ â†’ 2. å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆ â†’ 3. ãƒ—ãƒƒã‚·ãƒ¥ â†’ 4. gh pr create
    å®Œäº†ã—ã¾ã—ãŸ
```

**Afterï¼ˆææ¡ˆç”Ÿæˆï¼‰:**

```markdown
ğŸ’¡ **Knowledgeææ¡ˆ**

| é …ç›® | å†…å®¹ |
|------|------|
| ç¨®åˆ¥ | Skill |
| æ¤œå‡ºç†ç”± | ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å®Œäº†ï¼ˆ4ã‚¹ãƒ†ãƒƒãƒ—ï¼‰ |
| ãƒˆãƒªã‚¬ãƒ¼ | `PRä½œæˆæ™‚` |

**å†…å®¹:**
> ## PRä½œæˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
> 1. feature/xxx ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ
> 2. å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆï¼ˆConventional Commitså½¢å¼ï¼‰
> 3. ãƒªãƒ¢ãƒ¼ãƒˆã«ãƒ—ãƒƒã‚·ãƒ¥
> 4. `gh pr create` ã§PRä½œæˆ

**ä¿å­˜å…ˆ:** `.agents/skills/creating-pull-requests/`
```
